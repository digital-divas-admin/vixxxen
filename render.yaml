# Render Blueprint for vixxxen
# https://render.com/docs/blueprint-spec

services:
  # Main backend API service (reference only - may already exist)
  # - type: web
  #   name: vixxxen-api
  #   env: node
  #   rootDir: backend
  #   buildCommand: npm install
  #   startCommand: node server.js

  # Cron job for processing scheduled workflows
  - type: cron
    name: workflow-scheduler
    env: node
    rootDir: backend
    buildCommand: npm install
    schedule: "* * * * *"  # Every minute
    startCommand: node cron/processSchedules.js
    envVars:
      - key: API_URL
        sync: false  # Set manually in Render dashboard
      - key: CRON_SECRET
        sync: false  # Set manually in Render dashboard (must match API service)
